{"version":3,"file":"guillotine-packer.umd.js","sources":["../node_modules/ms/index.js","../node_modules/debug/src/common.js","../node_modules/debug/src/browser.js","../node_modules/has-flag/index.js","../node_modules/supports-color/index.js","../node_modules/debug/src/node.js","../node_modules/debug/src/index.js","../src/split-strategies.ts","../src/selection-strategies.ts","../src/sort-strategies.ts","../src/pack-strategy.ts","../src/util.ts","../src/guillotine-packer.ts"],"sourcesContent":["/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* Active `debug` instances.\n\t*/\n\tcreateDebug.instances = [];\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.enabled = createDebug.enabled(namespace);\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = selectColor(namespace);\n\t\tdebug.destroy = destroy;\n\t\tdebug.extend = extend;\n\t\t// Debug.formatArgs = formatArgs;\n\t\t// debug.rawLog = rawLog;\n\n\t\t// env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\tcreateDebug.instances.push(debug);\n\n\t\treturn debug;\n\t}\n\n\tfunction destroy() {\n\t\tconst index = createDebug.instances.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tcreateDebug.instances.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < createDebug.instances.length; i++) {\n\t\t\tconst instance = createDebug.instances[i];\n\t\t\tinstance.enabled = createDebug.enabled(instance.namespace);\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\nfunction log(...args) {\n\t// This hackery is required for IE8/9, where\n\t// the `console.log` function doesn't have 'apply'\n\treturn typeof console === 'object' &&\n\t\tconsole.log &&\n\t\tconsole.log(...args);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","'use strict';\nmodule.exports = (flag, argv) => {\n\targv = argv || process.argv;\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst pos = argv.indexOf(prefix + flag);\n\tconst terminatorPos = argv.indexOf('--');\n\treturn pos !== -1 && (terminatorPos === -1 ? true : pos < terminatorPos);\n};\n","'use strict';\nconst os = require('os');\nconst hasFlag = require('has-flag');\n\nconst env = process.env;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false')) {\n\tforceColor = false;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = true;\n}\nif ('FORCE_COLOR' in env) {\n\tforceColor = env.FORCE_COLOR.length === 0 || parseInt(env.FORCE_COLOR, 10) !== 0;\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(stream) {\n\tif (forceColor === false) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (stream && !stream.isTTY && forceColor !== true) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor ? 1 : 0;\n\n\tif (process.platform === 'win32') {\n\t\t// Node.js 7.5.0 is the first version of Node.js to include a patch to\n\t\t// libuv that enables 256 color output on Windows. Anything earlier and it\n\t\t// won't work. However, here we target Node.js 8 at minimum as it is an LTS\n\t\t// release, and Node.js 7 is not. Windows 10 build 10586 is the first Windows\n\t\t// release that supports 256 colors. Windows 10 build 14931 is the first release\n\t\t// that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(process.versions.node.split('.')[0]) >= 8 &&\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: getSupportLevel(process.stdout),\n\tstderr: getSupportLevel(process.stderr)\n};\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.format(...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.replace(/\\s*\\n\\s*/g, ' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","import debugLib from 'debug'\nconst debug = debugLib('guillotine-packer:split-strategies')\nimport { Rectangle, Item } from './types'\n\n// implementations based off of http://pds25.egloos.com/pds/201504/21/98/RectangleBinPack.pdf\n\nconst createSplitRectangle = (rectangle: Rectangle) => ({ ...rectangle, splitFrom: rectangle.id })\n\nabstract class Splitter {\n  constructor(public kerfSize: number) {}\n  abstract split(rectangle: Rectangle, item: Item): Rectangle[]\n  protected splitHorizontally(rectangle: Rectangle, item: Item): Rectangle[] {\n    debug(`splitting ${rectangle.id} horizontally`)\n    const rectangle1 = {\n      ...createSplitRectangle(rectangle),\n      x: rectangle.x + item.width + this.kerfSize,\n      width: rectangle.width - item.width - this.kerfSize,\n      height: item.height,\n      id: 'sh-r1'\n    }\n    const rectangle2 = {\n      ...createSplitRectangle(rectangle),\n      y: rectangle.y + item.height + this.kerfSize,\n      height: rectangle.height - item.height - this.kerfSize,\n      id: 'sh-r2'\n    }\n    return [rectangle1, rectangle2]\n  }\n  protected splitVertically(rectangle: Rectangle, item: Item): Rectangle[] {\n    debug(`splitting ${rectangle.id} vertically`)\n    const rectangle1 = {\n      ...createSplitRectangle(rectangle),\n      y: rectangle.y + item.height + this.kerfSize,\n      width: item.width,\n      height: rectangle.height - item.height - this.kerfSize,\n      id: 'sh-r1'\n    }\n    const rectangle2 = {\n      ...createSplitRectangle(rectangle),\n      x: rectangle.x + item.width + this.kerfSize,\n      y: rectangle.y,\n      width: rectangle.width - item.width - this.kerfSize,\n      id: 'sh-r2'\n    }\n    return [rectangle1, rectangle2]\n  }\n}\n\nclass ShortAxisSplit extends Splitter {\n  split(rectangle: Rectangle, item: Item) {\n    if (rectangle.width < rectangle.height) {\n      return this.splitHorizontally(rectangle, item)\n    } else {\n      return this.splitVertically(rectangle, item)\n    }\n  }\n}\n\nclass LongAxisSplit extends Splitter {\n  split(rectangle: Rectangle, item: Item) {\n    if (rectangle.width > rectangle.height) {\n      return this.splitHorizontally(rectangle, item)\n    } else {\n      return this.splitVertically(rectangle, item)\n    }\n  }\n}\n\nclass ShorterLeftoverAxisSplit extends Splitter {\n  split(rectangle: Rectangle, item: Item) {\n    if (rectangle.width - item.width < rectangle.height - item.height) {\n      return this.splitHorizontally(rectangle, item)\n    } else {\n      return this.splitVertically(rectangle, item)\n    }\n  }\n}\n\nclass LongerLeftoverAxisSplit extends Splitter {\n  split(rectangle: Rectangle, item: Item) {\n    if (rectangle.width - item.width >= rectangle.height - item.height) {\n      return this.splitHorizontally(rectangle, item)\n    } else {\n      return this.splitVertically(rectangle, item)\n    }\n  }\n}\n\nexport enum SplitStrategy {\n  LongLeftoverAxisSplit,\n  ShortLeftoverAxisSplit,\n  LongAxisSplit,\n  ShortAxisSplit\n}\n\nexport function GetSplitImplementation(strategy: SplitStrategy, kerfSize: number): Splitter {\n  switch (strategy) {\n    case SplitStrategy.LongAxisSplit:\n      return new LongAxisSplit(kerfSize)\n    case SplitStrategy.ShortAxisSplit:\n      return new ShortAxisSplit(kerfSize)\n    case SplitStrategy.LongLeftoverAxisSplit:\n      return new LongerLeftoverAxisSplit(kerfSize)\n    case SplitStrategy.ShortLeftoverAxisSplit:\n      return new ShorterLeftoverAxisSplit(kerfSize)\n  }\n}\n","import { Rectangle, Item } from './types'\n\nexport enum SelectionStrategy {\n  BEST_SHORT_SIDE_FIT,\n  BEST_LONG_SIDE_FIT,\n  BEST_AREA_FIT\n}\n\nabstract class SelectionImplementation {\n  abstract generateSortValue(freeRectangle: Rectangle, itemToPlace: Item): number\n  select(freeRectangles: Rectangle[], itemToPlace: Item): Rectangle | null {\n    const [bestRect] = freeRectangles\n      .filter(\n        freeRect =>\n          freeRect.width - itemToPlace.width >= 0 && freeRect.height - itemToPlace.height >= 0\n      )\n      .map(r => ({ rectangle: r, sortValue: this.generateSortValue(r, itemToPlace) }))\n      .sort((a, b) => (a.sortValue > b.sortValue ? 1 : -1))\n\n    return bestRect ? bestRect.rectangle : null\n  }\n}\n\nclass BestShortSideFit extends SelectionImplementation {\n  generateSortValue(freeRectangle: Rectangle, itemToPlace: Item) {\n    const { width, height } = itemToPlace\n    return Math.min(freeRectangle.width - width, freeRectangle.height - height)\n  }\n}\n\nclass BestLongSideFit extends SelectionImplementation {\n  generateSortValue(freeRectangle: Rectangle, itemToPlace: Item) {\n    const { width, height } = itemToPlace\n    return Math.max(freeRectangle.width - width, freeRectangle.height - height)\n  }\n}\n\nclass BestAreaFit extends SelectionImplementation {\n  generateSortValue(freeRectangle: Rectangle) {\n    return freeRectangle.width * freeRectangle.height\n  }\n}\n\nexport function GetSelectionImplementation(strategy: SelectionStrategy): SelectionImplementation {\n  switch (strategy) {\n    case SelectionStrategy.BEST_AREA_FIT:\n      return new BestAreaFit()\n    case SelectionStrategy.BEST_LONG_SIDE_FIT:\n      return new BestLongSideFit()\n    case SelectionStrategy.BEST_SHORT_SIDE_FIT:\n      return new BestShortSideFit()\n  }\n}\n","// implementations based off of http://pds25.egloos.com/pds/201504/21/98/RectangleBinPack.pdf\nimport { Item } from './types'\n\nconst area = (item: Item) => item.height * item.width\nconst perimeter = (item: Item) => item.height * 2 + item.width * 2\n\nconst sides = (item: Item) => ({\n  short: Math.min(item.width, item.height),\n  long: Math.max(item.width, item.height)\n})\n\nabstract class Sorter {\n  constructor(public direction: SortDirection) {}\n  protected abstract comparer(a: Item, b: Item): number\n  sort(items: Item[]) {\n    const sortedItems = [...items].sort(this.comparer)\n    return this.direction === SortDirection.DESC ? sortedItems.reverse() : sortedItems\n  }\n}\n\nclass Area extends Sorter {\n  comparer(a: Item, b: Item) {\n    return area(a) < area(b) ? -1 : 1\n  }\n}\n\nclass ShortSide extends Sorter {\n  comparer(a: Item, b: Item) {\n    const aSides = sides(a)\n    const bSides = sides(b)\n\n    if (aSides.short === bSides.short) {\n      return aSides.long < bSides.long ? -1 : 1\n    } else {\n      return aSides.short < bSides.short ? -1 : 1\n    }\n  }\n}\n\nclass LongSide extends Sorter {\n  comparer(a: Item, b: Item) {\n    const aSides = sides(a)\n    const bSides = sides(b)\n    if (aSides.long === bSides.long) {\n      return aSides.short < bSides.short ? -1 : 1\n    } else {\n      return aSides.long < bSides.long ? -1 : 1\n    }\n  }\n}\n\nclass Perimeter extends Sorter {\n  comparer(a: Item, b: Item) {\n    return perimeter(a) < perimeter(b) ? -1 : 1\n  }\n}\n\nclass Differences extends Sorter {\n  comparer(a: Item, b: Item) {\n    return Math.abs(a.width - a.height) < Math.abs(b.width - b.height) ? -1 : 1\n  }\n}\n\nclass Ratio extends Sorter {\n  comparer(a: Item, b: Item) {\n    return a.width / a.height < b.width / b.height ? -1 : 1\n  }\n}\n\nexport enum SortStrategy {\n  Area,\n  ShortSide,\n  LongSide,\n  Perimeter,\n  Differences,\n  Ratio\n}\n\nexport enum SortDirection {\n  ASC,\n  DESC\n}\n\nexport function GetSortImplementation(strategy: SortStrategy, direction: SortDirection): Sorter {\n  let impl\n  switch (strategy) {\n    case SortStrategy.Area:\n      impl = Area\n      break\n    case SortStrategy.Differences:\n      impl = Differences\n      break\n    case SortStrategy.LongSide:\n      impl = LongSide\n      break\n    case SortStrategy.Perimeter:\n      impl = Perimeter\n      break\n    case SortStrategy.Ratio:\n      impl = Ratio\n      break\n    case SortStrategy.ShortSide:\n      impl = ShortSide\n      break\n  }\n  return new impl(direction)\n}\n","import debugLib from 'debug'\nconst debug = debugLib('guillotine-packer:pack-strategy')\nimport { Rectangle, Item } from './types'\nimport { SelectionStrategy, GetSelectionImplementation } from './selection-strategies'\nimport { SortDirection, SortStrategy, GetSortImplementation } from './sort-strategies'\nimport { SplitStrategy, GetSplitImplementation } from './split-strategies'\n\nexport type PackStrategyOptions = {\n  binHeight: number\n  binWidth: number\n  items: Item[]\n  selectionStrategy: SelectionStrategy\n  splitStrategy: SplitStrategy\n  sortStrategy: SortStrategy\n  sortOrder: SortDirection\n  kerfSize: number\n  allowRotation: boolean\n}\n\nexport type PackedItem = {\n  item: any\n  width: number\n  height: number\n  x: number\n  y: number\n  bin: number\n}\n\nexport function PackStrategy({\n  binHeight,\n  binWidth,\n  items,\n  selectionStrategy,\n  splitStrategy,\n  sortStrategy,\n  sortOrder,\n  kerfSize,\n  allowRotation\n}: PackStrategyOptions) {\n  debug(\n    `Executing! split strategy: ${splitStrategy}, selection strategy: ${selectionStrategy}, sortStrategy: ${sortStrategy}, sortOrder: ${sortOrder}`\n  )\n  let binCount = 0\n  const freeRectangles: Rectangle[] = []\n\n  const createBin = () => {\n    binCount++\n    debug(`creating bin ${binCount}`)\n    freeRectangles.push({\n      width: binWidth,\n      height: binHeight,\n      x: 0,\n      y: 0,\n      bin: binCount,\n      id: 'root'\n    })\n  }\n  const splitter = GetSplitImplementation(splitStrategy, kerfSize)\n  const selector = GetSelectionImplementation(selectionStrategy)\n  const sorter = GetSortImplementation(sortStrategy, sortOrder)\n\n  const sortedItems = sorter.sort(items)\n\n  const rotateItem = (item: Item) => {\n    return { ...item, height: item.width, width: item.height }\n  }\n\n  const splitRectangle = ({ rectangle, item }: { rectangle: Rectangle; item: Item }) => {\n    return splitter.split(rectangle, item).filter(r => r.width > 0 && r.height > 0)\n  }\n\n  const getSelectionOption = (item: Item) => {\n    const rectangle = selector.select(freeRectangles, item)\n    debug(`for item ${JSON.stringify(item)}, selected ${JSON.stringify(rectangle)}`)\n    if (!rectangle) {\n      return null\n    }\n    const splitRectangles = splitRectangle({ rectangle: rectangle, item })\n    return {\n      rectangle,\n      splitRectangles,\n      item\n    }\n  }\n\n  const selectRectangleOption = (item: Item) => {\n    const originalOption = getSelectionOption(item)\n    let rotatedOption = null\n    let rotatedItem\n    if (allowRotation) {\n      rotatedItem = rotateItem(item)\n      rotatedOption = getSelectionOption(rotatedItem)\n    }\n    if (originalOption === null && rotatedOption === null) {\n      debug(`No free rectangles found for`, item)\n      return null\n    } else if (originalOption === null) {\n      debug(`Original item didn't fit, using rotated`, item)\n      return rotatedOption\n    } else if (rotatedOption === null) {\n      debug(`Rotated item didn't fit, using original option`, item)\n      return originalOption\n    } else {\n      const getBiggestSplitRectangle = ({ splitRectangles }: { splitRectangles: Rectangle[] }) =>\n        Math.max(...splitRectangles.map(split => split.height * split.width))\n      const originalMax = getBiggestSplitRectangle(originalOption)\n      const rotatedMax = getBiggestSplitRectangle(rotatedOption)\n      debug(`Original max area ${originalMax}, rotated max area ${rotatedMax}`)\n      if (getBiggestSplitRectangle(originalOption) >= getBiggestSplitRectangle(rotatedOption)) {\n        debug(`Going with original placement option`)\n        return originalOption\n      } else {\n        debug(`Going with rotated placement option`)\n        return rotatedOption\n      }\n    }\n  }\n\n  const packedItems = sortedItems\n    .map((item, idx) => {\n      debug('packing item', item)\n      let selectedOption = selectRectangleOption(item)\n      if (!selectedOption) {\n        createBin()\n        selectedOption = selectRectangleOption(item)\n      }\n      if (!selectedOption) {\n        throw new Error(\n          `item at index ${idx} with dimensions ${item.width}x${item.height} exceeds bin dimensions of ${binWidth}x${binHeight}`\n        )\n      }\n      const { rectangle, splitRectangles } = selectedOption\n      debug('selected rectangle', rectangle)\n      const { width, height, ...otherItemProps } = selectedOption.item\n      const packedItem = {\n        item: otherItemProps,\n        width,\n        height,\n        x: rectangle.x,\n        y: rectangle.y,\n        bin: rectangle.bin\n      }\n      debug('packed item', packedItem)\n      debug('free rectangles pre split', freeRectangles)\n      const rectIndex = freeRectangles.findIndex(r => r === rectangle)\n      freeRectangles.splice(rectIndex, 1, ...splitRectangles)\n      debug('free rectangles post split', freeRectangles)\n      return packedItem\n    })\n    .reduce((bins, item) => {\n      if (bins.length >= item.bin) {\n        bins[item.bin - 1].push(item)\n      } else {\n        bins.push([item])\n      }\n      return bins\n    }, [] as PackedItem[][])\n\n  return {\n    sortStrategy,\n    sortOrder,\n    packedItems,\n    splitStrategy,\n    selectionStrategy\n  }\n}\n","const f = (a: any[], b: any[]) => ([] as any[]).concat(...a.map(d => b.map(e => [].concat(d, e))))\nexport const cartesian = (a: any[], b?: any[], ...c: any): any[] =>\n  b ? cartesian(f(a, b), ...c) : a\n","import { SplitStrategy } from './split-strategies'\nimport { SelectionStrategy } from './selection-strategies'\nimport { SortStrategy, SortDirection } from './sort-strategies'\nimport createDebug from 'debug'\nconst debug = createDebug('guillotine-packer')\nimport { PackedItem, PackStrategy } from './pack-strategy'\nimport { Item } from './types'\nimport { cartesian } from './util'\n\ntype PackerInputs = { binHeight: number; binWidth: number; items: Item[] }\ntype PackerConfig = {\n  selectionStrategy?: SelectionStrategy\n  splitStrategy?: SplitStrategy\n  sortStrategy?: SortStrategy\n  kerfSize?: number\n  allowRotation?: boolean\n}\n\ntype PackerResult = PackedItem[][] | null\n\nfunction Packer(\n  { binHeight, binWidth, items }: PackerInputs,\n  {\n    selectionStrategy,\n    splitStrategy,\n    sortStrategy,\n    kerfSize = 0,\n    allowRotation = true\n  }: PackerConfig = {}\n) {\n  function enumToArray<T>(enumVariable: T) {\n    return Object.values(enumVariable)\n      .filter(value => parseInt(value, 10) >= 0)\n      .map(value => value as keyof T)\n  }\n\n  const selectionStrategies =\n    selectionStrategy !== undefined ? [selectionStrategy] : enumToArray(SelectionStrategy)\n\n  const splitStrategies = splitStrategy !== undefined ? [splitStrategy] : enumToArray(SplitStrategy)\n  const sortStrategies = sortStrategy !== undefined ? [sortStrategy] : enumToArray(SortStrategy)\n\n  const allStrategies = cartesian(selectionStrategies, splitStrategies, sortStrategies, [\n    SortDirection.ASC,\n    SortDirection.DESC\n  ])\n\n  return allStrategies\n    .map(([selectionStrategy, splitStrategy, sortStrategy, sortOrder]) =>\n      PackStrategy({\n        binWidth,\n        binHeight,\n        items,\n        splitStrategy,\n        selectionStrategy,\n        sortStrategy,\n        sortOrder,\n        kerfSize,\n        allowRotation\n      })\n    )\n    .reduce((bestCompressed, packResult) => {\n      const { splitStrategy, sortStrategy, selectionStrategy, sortOrder, packedItems } = packResult\n      debug(\n        `Result for split strategy: ${splitStrategy}, selection strategy: ${selectionStrategy}, sortStrategy: ${sortStrategy}, sortOrder: ${sortOrder} - ${packedItems.length} bin(s)`\n      )\n      if (!bestCompressed || packedItems.length < bestCompressed.length) {\n        return packedItems\n      } else {\n        return bestCompressed\n      }\n    }, null as PackerResult)\n}\n\nexport { SplitStrategy, SelectionStrategy, SortStrategy, Packer as packer }\n"],"names":["require$$0","require$$1","debugLib","SplitStrategy","SelectionStrategy","SortStrategy","debug","createDebug"],"mappings":"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"}